<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Map & Set & WeakMap & WeakSet</title>
</head>
<body>
  <script>
    'use strict';

    // map 객체 생성
    const m = new Map();

    // map 아이템 추가
    m.set('a', 'b'); 
    m.set('c', 'd');

    const objKey = { key: 'lee' }; // 객체 key 생성
    m.set(objKey, 'joonyeong'); // 객체 key도 가능하다

    // map 아이템 꺼내기
    console.log('========== map 아이템 꺼내보기 ==========');
    console.log(m.get('a'));
    console.log(m.get('c'));
    console.log(m.get(objKey));
    console.log(m.size); // 객체 크기

    // map 반복문
    console.log('========== map 반복문 ==========');
    // 1. for in 문
    console.group('for of')
    for (const [k, v] of m) {
      console.log('key: ', k, 'value: ', v);
    }
    console.groupEnd('for of')

    // 2. foreach 문
    console.group('foreach')
    m.forEach((v, k) => {
      console.log('key: ', k, 'value: ', v);
    });
    console.groupEnd('foreach')

    // map has
    console.log('========== map has ==========');
    console.log(m.has(objKey));
    console.log(m.has('g'));

    // map delete
    console.log('========== map delete ==========');
    console.log(m.has('c'));
    m.delete('c');
    console.log(m.has('c'));

    // map clear
    console.log('========== map clear ==========');
    console.log(m);
    m.clear();
    console.log(m);


    // set 객체 생성
    const s = new Set();

    // set 아이템 추가
    s.add(1);
    s.add(1); // set 배열의 값은 중복 값을 넣을 수 없다.
    s.add(2);

    console.log('========== set 아이템 보기 ==========');
    console.log(s);

    // 그 외 for of, foreach, has, delete, clear 기능은 map과 동일.


    // set을 활용한 배열의 중복 값 제거하기
    console.log('========== set을 이용한 중복 제거 ==========');
    const arr = [1, 2, 3, 2, 3, 5, 2];
    const s2 = new Set(arr);

    console.log(s2); // 아직 prototype이 set이기 때문에
    const s2Transition = Array.from(s2); // 배열로 바꿔준다.
    console.log(s2Transition);

  </script>
</body>
</html>